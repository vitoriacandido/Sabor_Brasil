<!DOCTYPE html> 
<html lang="pt-br">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Sabor do Brasil - Publicações</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet" />
  <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css" rel="stylesheet" />
  <link rel="stylesheet" href="css/style.css" />
  <style>
    /* Pequenos ajustes */
    .header-logo { object-fit: cover; }
    .user-sidebar { background-color: #ffc107; }
    .like-button.text-primary, .dislike-button.text-danger { filter: brightness(1.2); }
    .mode-toggle { z-index: 1055; }
  </style>
</head>

<body class="bg-warning">
  <!-- Cabeçalho -->
  <header class="navbar navbar-dark bg-black sticky-top px-3 shadow-sm justify-content-between">
    <a class="navbar-brand" href="#">Sabor do Brasil</a>
    <div class="d-flex align-items-center gap-3">
      <a href="index.html" class="text-white" title="Página inicial"><i class="fas fa-home"></i></a>
      <img src="img/logo_sabor_do_brasil.png" class="rounded-circle header-logo" width="32" height="32" alt="Logo Sabor do Brasil" title="Logo Sabor do Brasil">
       <a href="Usuario.html" img src="img/Usuario.jpg" class="text-white" title="Perfil do Usuário"><i class="fas fa-user-circle"></i></a>
    </div>
  </header>

  <main class="container-fluid">
    <div class="row min-vh-100">
      <!-- Sidebar -->
      <aside class="col-md-2 bg-warning text-center py-4 user-sidebar">
        <img src="img/logo_sabor_do_brasil.png" class="rounded-circle mb-4" width="95" alt="Logo Sabor do Brasil">
        <h5>Sabor Brasil</h5>
        <hr>
        <p><strong id="totalLikes">0</strong><br>Likes</p>
        <p><strong id="totalDislikes">0</strong><br>Dislikes</p>
        <button type="button" class="btn bg-danger btn-outline-dark mt-3" data-bs-toggle="modal" data-bs-target="#loginModal" id="loginBtn">Login</button>
        <button type="button" class="btn btn-secondary mt-3 d-none" id="logoutBtn">Logout</button>
      </aside>

      <!-- Publicações -->
      <section class="col-md-8 p-4">
        <h3 class="text-center fw-bold mb-4">Publicações</h3>
        <div class="row row-cols-1 row-cols-md-2 g-4">
          <!-- Publicação 1 -->
          <div class="col">
            <div class="card" data-post-id="1">
              <img src="img/feijoada.webp" class="card-img-top" alt="Feijoada">
              <div class="card-body">
                <h3 class="card-title">Feijoada</h3>
                <h5><p>A melhor do Brasil</p></h5>
                <p class="mb-1 text-muted small">Local 01 - Brasil</p>
                <div class="d-flex gap-3 align-items-center">
                  <button type="button" class="like-button" title="Curtir Feijoada"><i class="fas fa-thumbs-up"></i></button><span class="like-count">75</span>
                  <button type="button" class="dislike-button" title="Não curtir Feijoada"><i class="fas fa-thumbs-down"></i></button><span class="dislike-count">22</span>
                  <button type="button" class="comment-button" data-post-id="1" title="Comentários Feijoada"><i class="far fa-comment"></i><span class="comment-count">0</span></button>
                </div>
              </div>
            </div>
          </div>

          <!-- Publicação 2 -->
          <div class="col">
            <div class="card" data-post-id="2">
              <img src="img/picanha.jpg" class="card-img-top" alt="Picanha na brasa">
              <div class="card-body">
                <h3 class="card-title">Picanha na Brasa</h3>
                <h5><p>Quem aí adora um churrasco?</p></h5>
                <p class="mb-1 text-muted small">Local 02 - Rio Grande do Sul</p>
                <div class="d-flex align-items-center gap-3">
                  <button class="like-button" aria-label="Curtir Picanha"><i class="fas fa-thumbs-up"></i></button><span class="like-count">86</span>
                  <button class="dislike-button" aria-label="Não curtir Picanha"><i class="fas fa-thumbs-down"></i></button><span class="dislike-count">45</span>
                  <button class="comment-button" data-post-id="2" aria-label="Comentários Picanha">
                    <i class="far fa-comment"></i><span class="comment-count">0</span>
                  </button>
                </div>
              </div>
            </div>
          </div>

          <!-- Publicação 3 -->
          <div class="col">
            <div class="card" data-post-id="3">
              <img src="img/moqueca.jpg" class="card-img-top" alt="Moqueca baiana">
              <div class="card-body">
                <h3 class="card-title">Moqueca Baiana</h3>
                <h5><p>A melhor do Brasil</p></h5>
                <p class="mb-1 text-muted small">Local 03 - Maceió-AL</p>
                <div class="d-flex align-items-center gap-3">
                  <button class="like-button" aria-label="Curtir Moqueca"><i class="fas fa-thumbs-up"></i></button><span class="like-count">775</span>
                  <button class="dislike-button" aria-label="Não curtir Moqueca"><i class="fas fa-thumbs-down"></i></button><span class="dislike-count">4</span>
                  <button class="comment-button" data-post-id="3" aria-label="Comentários Moqueca">
                    <i class="far fa-comment"></i><span class="comment-count">0</span>
                  </button>
                </div>
              </div>
            </div>
          </div>

          <!-- Publicação 4 -->
          <div class="col">
            <div class="card" data-post-id="4">
              <img src="img/salada.webp" class="card-img-top" alt="Salada Italiana">
              <div class="card-body">
                <h3 class="card-title">Salada Italiana</h3>
                <h5><p>Sabor fresco e saudável</p></h5>
                <p class="mb-1 text-muted small">Local 04 - Itália</p>
                <div class="d-flex align-items-center gap-3">
                  <button class="like-button" aria-label="Curtir Salada Italiana"><i class="fas fa-thumbs-up"></i></button><span class="like-count">856</span>
                  <button class="dislike-button" aria-label="Não curtir Salada Italiana"><i class="fas fa-thumbs-down"></i></button><span class="dislike-count">2</span>
                  <button class="comment-button" data-post-id="4" aria-label="Comentários Salada Italiana">
                    <i class="far fa-comment"></i><span class="comment-count">0</span>
                  </button>
                </div>
              </div>
            </div>
          </div>

          <!-- Publicação 5 -->
          <div class="col">
            <div class="card" data-post-id="5">
              <img src="img/salada2.webp" class="card-img-top" alt="Salada de Pepino">
              <div class="card-body">
                <h3 class="card-title">Salada de Pepino</h3>
                <h5><p>Refrescante e leve</p></h5>
                <p class="mb-1 text-muted small">Local 05 - Desconhecido</p>
                <div class="d-flex align-items-center gap-3">
                  <button class="like-button" aria-label="Curtir Salada de Pepino"><i class="fas fa-thumbs-up"></i></button><span class="like-count">985</span>
                  <button class="dislike-button" aria-label="Não curtir Salada de Pepino"><i class="fas fa-thumbs-down"></i></button><span class="dislike-count">6</span>
                  <button class="comment-button" data-post-id="5" aria-label="Comentários Salada de Pepino">
                    <i class="far fa-comment"></i><span class="comment-count">0</span>
                  </button>
                </div>
              </div>
            </div>
          </div>

          <!-- Publicação 6 -->
          <div class="col">
            <div class="card" data-post-id="6">
              <img src="img/fileminion.jfif" class="card-img-top" alt="Filé Mignon com rúcula">
              <div class="card-body">
                <h3 class="card-title">Filé Mignon com Rúcula</h3>
                <h5><p>Uma explosão de sabores</p></h5>
                <p class="mb-1 text-muted small">Local 06 - França</p>
                <div class="d-flex align-items-center gap-3">
                  <button class="like-button" aria-label="Curtir Filé Mignon"><i class="fas fa-thumbs-up"></i></button><span class="like-count">75</span>
                  <button class="dislike-button" aria-label="Não curtir Filé Mignon"><i class="fas fa-thumbs-down"></i></button><span class="dislike-count">22</span>
                  <button class="comment-button" data-post-id="6" aria-label="Comentários Filé Mignon">
                    <i class="far fa-comment"></i><span class="comment-count">0</span>
                  </button>
                </div>
              </div>
            </div>
          </div>
        </div>
      </section>
    </div>
  </main>

  

  <!-- Modal Login -->
  <div class="modal fade" id="loginModal" tabindex="-1" aria-labelledby="loginModalLabel" aria-hidden="true">
    <div class="modal-dialog">
      <div class="modal-content p-3">
        <div class="modal-header">
          <h5 class="modal-title" id="loginModalLabel">Login</h5>
          <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Fechar"></button>
        </div>
        <div class="modal-body">
          <form id="loginForm">
            <div class="mb-3">
              <label for="username" class="form-label">Usuário</label>
              <input type="text" id="username" name="username" class="form-control" required />
            </div>
            <div class="mb-3">
              <label for="password" class="form-label">Senha</label>
              <input type="password" id="password" name="password" class="form-control" required />
            </div>
            <button type="submit" class="btn btn-primary w-100">Entrar</button>
          </form>
        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Fechar</button>
        </div>
      </div>
    </div>
  </div>

  <!-- Modal Comentários -->
  <div class="modal fade" id="commentModal" tabindex="-1">
    <div class="modal-dialog modal-dialog-scrollable">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title">Comentários</h5>
          <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Fechar"></button>
        </div>
        <div class="modal-body">
          <ul id="commentList" class="list-group mb-3"></ul>
          <form id="commentForm" class="d-flex gap-2">
            <input type="text" id="commentInput" class="form-control" placeholder="Digite um comentário" required />
            <button type="submit" class="btn btn-success">Enviar</button>
          </form>
        </div>
      </div>
    </div>
  </div>

  <!-- Botão Modo Escuro -->
  <button id="modeToggle" class="btn btn-dark position-fixed bottom-0 end-0 m-3 mode-toggle" title="Alternar Modo Escuro">
    <i class="fas fa-moon"></i>
  </button>

  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>

  <script>
    // Estado inicial
    let loggedUser = null;
    let totalLikes = 75 + 86 + 775 + 856 + 985 + 75; // soma das likes iniciais
    let totalDislikes = 22 + 45 + 4 + 2 + 6 + 22; // soma das dislikes iniciais

    // Dados dos posts para manipular comentários e contagens
    const postsData = {
      1: {likes: 75, dislikes: 22, comments: []},
      2: {likes: 86, dislikes: 45, comments: []},
      3: {likes: 775, dislikes: 4, comments: []},
      4: {likes: 856, dislikes: 2, comments: []},
      5: {likes: 985, dislikes: 6, comments: []},
      6: {likes: 75, dislikes: 22, comments: []}
    };

    const likeButtons = document.querySelectorAll('.like-button');
    const dislikeButtons = document.querySelectorAll('.dislike-button');
    const commentButtons = document.querySelectorAll('.comment-button');
    const totalLikesEl = document.getElementById('totalLikes');
    const totalDislikesEl = document.getElementById('totalDislikes');

    // Atualiza contadores totais na sidebar
    function updateTotalCounters() {
      totalLikesEl.textContent = totalLikes;
      totalDislikesEl.textContent = totalDislikes;
    }
    updateTotalCounters();

    // Gerenciamento de login falso
    const loginBtn = document.getElementById('loginBtn');
    const logoutBtn = document.getElementById('logoutBtn');
    const loginModal = new bootstrap.Modal(document.getElementById('loginModal'));
    const loginForm = document.getElementById('loginForm');

    loginForm.addEventListener('submit', e => {
      e.preventDefault();
      const username = loginForm.username.value.trim();
      const password = loginForm.password.value.trim();
      if (username && password) {
        loggedUser = username;
        alert(`Bem-vindo(a), ${username}! Você está logado.`);
        loginModal.hide();
        loginBtn.classList.add('d-none');
        logoutBtn.classList.remove('d-none');
      } else {
        alert('Por favor, preencha usuário e senha.');
      }
    });

    logoutBtn.addEventListener('click', () => {
      loggedUser = null;
      alert('Você saiu da sua conta.');
      logoutBtn.classList.add('d-none');
      loginBtn.classList.remove('d-none');
    });

    // Função para bloquear likes/dislikes se não logado
    function requireLogin() {
      if (!loggedUser) {
        alert('Você precisa estar logado para interagir!');
        return false;
      }
      return true;
    }

    // Likes e Dislikes
    likeButtons.forEach(btn => {
      btn.addEventListener('click', () => {
        if (!requireLogin()) return;
        const card = btn.closest('.card');
        const postId = card.dataset.postId;
        const likeCountSpan = card.querySelector('.like-count');

        postsData[postId].likes++;
        likeCountSpan.textContent = postsData[postId].likes;

        totalLikes++;
        updateTotalCounters();
      });
    });

    dislikeButtons.forEach(btn => {
      btn.addEventListener('click', () => {
        if (!requireLogin()) return;
        const card = btn.closest('.card');
        const postId = card.dataset.postId;
        const dislikeCountSpan = card.querySelector('.dislike-count');

        postsData[postId].dislikes++;
        dislikeCountSpan.textContent = postsData[postId].dislikes;

        totalDislikes++;
        updateTotalCounters();
      });
    });

    // Comentários
    const commentModalEl = document.getElementById('commentModal');
    const commentModal = new bootstrap.Modal(commentModalEl);
    const commentList = document.getElementById('commentList');
    const commentForm = document.getElementById('commentForm');
    const commentInput = document.getElementById('commentInput');

    let currentPostId = null;

    commentButtons.forEach(btn => {
      btn.addEventListener('click', () => {
        currentPostId = btn.dataset.postId;
        renderComments(currentPostId);
        commentModal.show();
      });
    });

    function renderComments(postId) {
      commentList.innerHTML = '';
      const comments = postsData[postId].comments;
      comments.forEach(cmt => {
        const li = document.createElement('li');
        li.className = 'list-group-item';
        li.textContent = `${cmt.user}: ${cmt.text}`;
        commentList.appendChild(li);
      });
      updateCommentCount(postId);
    }

    function updateCommentCount(postId) {
      const card = document.querySelector(`.card[data-post-id="${postId}"]`);
      const commentCountSpan = card.querySelector('.comment-count');
      commentCountSpan.textContent = postsData[postId].comments.length;
    }

    commentForm.addEventListener('submit', e => {
      e.preventDefault();
      if (!loggedUser) {
        alert('Você precisa estar logado para comentar!');
        return;
      }
      const text = commentInput.value.trim();
      if (text && currentPostId) {
        postsData[currentPostId].comments.push({user: loggedUser, text});
        renderComments(currentPostId);
        commentInput.value = '';
      }
    });

    // Modo Escuro
    const modeToggle = document.getElementById('modeToggle');
    const body = document.body;

    function setDarkMode(enabled) {
      if (enabled) {
        body.classList.remove('bg-warning');
        body.classList.add('bg-dark', 'text-light');
        modeToggle.innerHTML = '<i class="fas fa-sun"></i>';
      } else {
        body.classList.add('bg-warning');
        body.classList.remove('bg-dark', 'text-light');
        modeToggle.innerHTML = '<i class="fas fa-moon"></i>';
      }
      localStorage.setItem('darkMode', enabled);
    }

    modeToggle.addEventListener('click', () => {
      const isDark = body.classList.contains('bg-dark');
      setDarkMode(!isDark);
    });

    // Carregar modo escuro salvo
    const savedMode = localStorage.getItem('darkMode') === 'true';
    setDarkMode(savedMode);
  </script>
</body>
</html>
<!-- Fim do arquivo index.html -->